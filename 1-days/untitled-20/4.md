# 페이지 이동 4 - 코드 구현, forward

## 요청, 출력 - 다른페이지

### a.jsp

![a.jsp](../../.gitbook/assets/2%20%2844%29.png)

```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%  //요청과 응답이 다른 페이지에서 이루어짐
	//jsp로 작성한 이유
	//직접 인스턴스화 하는 경우에는 scope가 없다. --page, request, session, application
	//넘어간 b.jsp에서는 이 멤버변수에 접근 할 수 없다. = 유지되지 않는다.
	String ord_no = new String("E202011030005");//b.jsp에서 유지될것인가
	String ord_no2 = new String("E202011030010");//b.jsp에서 유지될것인가
	
	//요청객체에 데이터를 담는다면? 넘어간 b.jsp에서는 이 멤버변수에 접근 할 수 없다. = 유지되지 않는다.
	request.setAttribute("ord_no2", ord_no2);
%>
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>a.jsp 페이지이동, http프로토콜</title>
<script type="text/javascript">
	function move(){//JS표준 페이지 이동 명령어 location.href
		location.href="b.jsp?b_no=5";//get방식
	}
</script>
</head>
<body>
여기가 시작 페이지 입니다.<br>
<input type="button" value="이동" onclick="move()">
</body>
</html>
```

* String 객체를 먼저 인스턴스화하여 객체생성이 이루어졌다. - 여기서 생성된 객체를 페이지가 이동한 후에도 사용하고 싶다면, 
* http라는 비상태 프로토콜을 이용하기 때문이다. - URL이 바뀌는 동안에는 유지 되지 못한다.  - 연결이 끊기고 새로운 연결이 되는 것이므로 값이 유지될 수 없다. - 새 페이지에게 이전 페이지의 기억은 없다. 유지하려면....a2.jsp

### b.jsp

![&#xC774;&#xB3D9; &#xBC84;&#xD2BC; &#xD074;&#xB9AD;&#xC2DC; -&amp;gt; b.jsp](../../.gitbook/assets/3%20%2837%29.png)

```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%	
	//파라미터값은 id를 사용할 수 없다. id는 UI쪽에서만 사용 가능하다.
	String b_no = request.getParameter("b_no");
	out.print("b_no:"+b_no);
	
	//파라미터로 a.jsp에 선언된 변수를 가져올 수는 있을까? --null출력, 가져오지-유지되지못한다.
	String ord_no = request.getParameter("ord_no");
	out.print(" ord_no:"+ord_no);
	//이것도 --null출력, 가져오지-유지되지못한다.
	String ord_no2 = (String)request.getAttribute("ord_no2");
	out.print(" ord_no2:"+ord_no2);
%>
   
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>b.jsp 페이지이동, http프로토콜</title>
<script type="text/javascript">
	function move(){//JS표준 페이지 이동 명령어 location.href
		location.href="b.jsp";
	}
</script>
</head>
<body>
여기가 결과 페이지 입니다.<br>
<input type="button" value="이동" onclick="move()">
</body>
</html>
```

* 1번 : 쿼리스트링 - b\_no
* 2번 : getParameter - ord\_no
* 3번 : setAttribute, getAttribute - ord\_no2
* 연결이 끊겼다가 새 페이지를 새로 연결하므로 쿼리스트링으로 전송된 값 외에는 유지되지 않는다.

## 요청, 출력 - 같은페이지

### a2.jsp

* 
### b2.jsp

### c.jsp

## include  - 같은페이지, 처리는 다른페이지

* 
